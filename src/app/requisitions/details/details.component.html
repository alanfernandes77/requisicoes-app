<div class="container">
  <div class="row">
    <div class="col-12 col-md-10 col-lg-9 mx-auto mb-4">
      <div class="my-3 text-center text-md-start">
        <h1 class="fw-bold text-primary">Detalhes da Requisição</h1>

        <div class="mt-3">
          <small><i class="pi pi-id-card me-1"></i>{{ requisition.id }}</small>
          <h2 class="fs-4 card-title text-primary fw-semibold mb-3">{{ requisition.description }}</h2>
          <ul>
            <li><strong>Destino:</strong> {{ requisition.department?.name }}</li>
            <li><strong>Solicitante:</strong> {{ requisition.employee?.name }}</li>
            <li><strong>Data de Abertura:</strong> {{ requisition.creationDate.toDate() | date: "dd/MM/yyyy HH:mm" }}</li>
            <li><strong>Última Atualização:</strong> {{ requisition.lastUpdate.toDate() | date: "dd/MM/yyyy HH:mm" }}</li>
          </ul>
        </div>

        <div class="d-grid d-md-block gap-2 mt-5">
          <a
          role="button"
          class="btn btn-outline-primary col-md-2"
          routerLink="/requisitions/my-department-requisitions">
          <i class="pi pi-sign-out me-2"></i>Voltar
          </a>
        </div>

        <div class="mt-3">
          <table class="table table-light table-striped table-hover table-bordered mt-3">
            <thead class="thead-dark">
              <tr>
                <th class="text-center">Data e Horário</th>
                <th class="text-center">Status</th>
                <th class="text-center">Descrição</th>
                <th class="text-center">Funcionário</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let movement of requisition.movements">
                <td class="text-center">{{ movement?.date?.toDate() | date: "dd/MM/yyyy HH:mm" }}</td>
                <td class="text-center">{{ movement.status }}</td>
                <td class="text-center">{{ movement.description }}</td>
                <td class="text-center">{{ movement.employee.name }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
